<html>
<head>
<link rel="stylesheet" href="b.css">
<script type="text/javascript">
</script>
</head>
<body>
<div class="button" id="button">
<p>Button</p>
</div>
<input type="text" id="raw"><input type="text" id="result">
<script type="text/javascript">
document.getElementById("button").onclick = function(event){
if(window.getComputedStyle(this).backgroundColor=="rgb(255, 0, 0)")
{
this.style.backgroundColor = "orange";
}
else if(this.style.backgroundColor == "orange")
{
this.style.backgroundColor = "yellow";
}
else if(this.style.backgroundColor == "yellow")
{
this.style.backgroundColor = "lime";
}
else if(this.style.backgroundColor == "lime")
{
this.style.backgroundColor = "deepskyblue";
}
else if(this.style.backgroundColor == "deepskyblue")
{
this.style.backgroundColor = "blue";
}
else if(this.style.backgroundColor == "blue")
{
this.style.backgroundColor = "blueviolet";
}
else
{
this.style.backgroundColor = "red";
}
}
raw.oninput = function() {
let chunks=[],selectedChunks=[],debug=[];
    raw.value = raw.value.match(/\d.*|\-.*/);
	debug.push(raw.value);
	//alert(debug);
	raw.value=raw.value.match(/(\d|\.|\,|\-)/g).join('');
	if(raw.value[raw.value.length-1]==','){
	raw.value=raw.value.slice(0,raw.value.length-1);
	chunks=raw.value.split(',');
	for(i=0;i<chunks.length;i++){
	if(parseFloat(chunks[i])==chunks[i]**1||chunks[i].match(/.*\.|.*\-/)!=null)
	selectedChunks.push(chunks[i]);
	}
	raw.value="";
	result.value=0;
	for(i=0;i<selectedChunks.length;i++){
	raw.value=raw.value+selectedChunks[i]+',';
	if(parseFloat(chunks[i])==chunks[i]**1)
	result.value=parseFloat(result.value)+parseFloat(selectedChunks[i]);
	}
	//alert(chunks);
	//alert(parseFloat(chunks[1])!=NaN);
	//alert(selectedChunks);
	}
	else{
	chunks=raw.value.split(',');
	for(i=0;i<chunks.length;i++){
	if(parseFloat(chunks[i])==chunks[i]**1||chunks[i].match(/.*\.|.*\-/)!=null)
	//alert(chunks);
	selectedChunks.push(chunks[i]);
	//alert(selectedChunks[i]);
	}
	raw.value="";
	result.value=0;
	//alert(selectedChunks);
	for(i=0;i<selectedChunks.length;i++){
	raw.value=raw.value+selectedChunks[i]+',';
	//alert(selectedChunks);
	if(parseFloat(chunks[i])==chunks[i]**1)
	result.value=parseFloat(result.value)+parseFloat(selectedChunks[i]);
	}
	raw.value=raw.value.slice(0,raw.value.length-1);
	}
	//.match(/((\d+\.\d+)|\d+)/g).join('');
  };
</script>
</body>
</html>